jQuery(document).ready(function(){
  $.ajaxSetup({
    headers:{
      'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')
    }
  });
  //username checking
  jQuery("#UserNamecheck").keyup(function(){
    var username=jQuery("#UserNamecheck").val();
    var password=jQuery("#UserPwd").val();

   // alert(password);
    jQuery.ajax({
        type:'post',
        url:'/verifyusername',
        data:{username:username,password:password},
        success:function(resp){
          //alert(resp);
            if(resp==false){
                jQuery("#checkconfirmusername").html("<font color=yellow>Username does not much our records</>");
            }else if(resp==true){
             // alert(resp);
                jQuery("#checkconfirmusername").html("<font color=green>Username is now correct</>");
            }
        },
        error:function(){
           // alert("error");
        }
    });
});
 
//password checking with jquery
jQuery("#UserPwd").keyup(function(){
  var username=jQuery("#UserNamecheck").val();

  var password=jQuery("#UserPwd").val();
 // alert(password);
  jQuery.ajax({
      type:'post',
      url:'/verifypassword',
      data:{password:password,username:username},
      success:function(resp){
    //  alert(resp);
          if(resp==false){
              jQuery("#checkUserPwd").html("<font color=red>password does not much our records</>");
          }else if(resp==true){
              jQuery("#checkUserPwd").html("<font color=green>password is now correct</>");
          }
      },
     /* error:function(){
          alert("error");
      }*/
  });
});

jQuery("#search").on('keyup',function(){
  var value=jQuery(this).val().toLowerCase();
  jQuery("#vacant tr").filter(function(){
    jQuery(this).toggle(jQuery(this).text().toLowerCase().indexOf(value) > -1);
  });
});
jQuery(document).on("keyup","#searchtenant",function(){

  var value=jQuery(this).val().toLowerCase();
 
  var value=jQuery("#searchtenant").val().toLowerCase();
 jQuery("#tenantttttt tr").filter(function(){
  jQuery(this).toggle(jQuery(this).text().toLowerCase().indexOf(value) > -1);
});
});

  //properties select
  jQuery("#propertyselect").on('change', function(){
   // alert("bitch");
   var status=jQuery("#selectstatus").val();
   var property_id=jQuery(this).val();
   var category=jQuery("#categoryselect").val();
   //alert(status);
   jQuery.ajax({
      type:'post',
      url:'/get/properties',
      data:{property_id:property_id,category:category,status:status},
      success:function(resp){
        //alert(resp);
        jQuery("#appendvacantunits").html(resp);
      // jQuery("#appendtenantbalances").html(resp);
         
      },
      error:function(){
         // alert("error");
      }
  });
  });
    //search byvacantunitsbycategory
    jQuery("#categoryselect").on('change', function(){
      // alert("bitch");
     // var category=jQuery(this).val();
     var property_id=jQuery("#propertyselect").val();
     var status=jQuery("#selectstatus").val();
     
    var category=jQuery(this).val();
      //alert(property_id);
      jQuery.ajax({
         type:'post',
         url:'/get/categories',
         data:{category:category,property_id:property_id,status:status},
         success:function(resp){
        //alert(resp);
           jQuery("#appendvacantunits").html(resp);
         // jQuery("#appendtenantbalances").html(resp);
            
         },
         error:function(){
            // alert("error");
         }
     });
     })
    //search byvacantunitsbycategory
    jQuery("#selectstatus").on('change', function(){
      // alert("bitch");
     var category=jQuery("#categoryselect").val();
     var property_id=jQuery("#propertyselect").val();
     var status=jQuery(this).val();
     
      jQuery.ajax({
         type:'post',
         url:'/get/statuss',
         data:{category:category,property_id:property_id,status:status},
         success:function(resp){
        //alert(resp);
           jQuery("#appendvacantunits").html(resp);
         // jQuery("#appendtenantbalances").html(resp);
            
         },
         error:function(){
            // alert("error");
         }
     });
     })


  //appendtenantbalances
  jQuery("#propertytenantbalance").on('change', function(){
    var month=jQuery("#monthselect").val();
  var year=jQuery("#yearselect").val();
    var property_id=jQuery(this).val();
    var fieldofficerselect=jQuery("#fieldofficerselect").val();
    var payableselect=jQuery("#payableselect").val();
  //  alert(property_id);
    jQuery.ajax({
       type:'post',
       url:'/get/tenantbalances',
       data:{property_id:property_id,fieldofficerselect:fieldofficerselect,payableselect:payableselect,month:month,year:year},
       success:function(resp){
        //alert(resp);
         jQuery("#appendtenantbalances").html(resp);
       },
       error:function(){
          // alert("error");
       }
   });
   });
 //selectbyfieldofficer
 jQuery("#fieldofficerselect").on('change', function(){
  var month=jQuery("#monthselect").val();
  var year=jQuery("#yearselect").val();
  var fieldofficer=jQuery(this).val();
  var property_id=jQuery("#propertytenantbalance").val();
  var payableselect=jQuery("#payableselect").val();

 //alert(payableselect);
 jQuery.ajax({
    type:'post',
    url:'/get/fieldofficer',
    data:{fieldofficer:fieldofficer,property_id:property_id,payableselect:payableselect,month:month,year:year},
    success:function(resp){
      //alert(resp);
      jQuery("#appendtenantbalances").html(resp);
    },
    error:function(){
       // alert("error");
    }
});
});
//selectbyfieldofficer
jQuery("#payableselect").on('change', function(){
  var month=jQuery("#monthselect").val();
  var year=jQuery("#yearselect").val();
  var payable=jQuery(this).val();
  var fieldofficer=jQuery("#fieldofficerselect").val();
  var property_id=jQuery("#propertytenantbalance").val();

 // alert(fieldofficer);
 jQuery.ajax({
    type:'post',
    url:'/get/payableselect',
    data:{payable:payable,property_id:property_id,fieldofficer:fieldofficer,month:month,year:year},
    success:function(resp){
    /*  if(resp==false){
        alert("Some select all fields");
      }else{*/
        jQuery("#appendtenantbalances").html(resp);

     // }
      //alert(resp);
    },
    error:function(){
       // alert("error");
    }
});
});

//selectbymonth
jQuery("#monthselect").on('change', function(){
  
  var month=jQuery(this).val();
  var year=jQuery("#yearselect").val();
  var payable=jQuery("#payableselect").val();
  var fieldofficer=jQuery("#fieldofficerselect").val();
  var property_id=jQuery("#propertytenantbalance").val();
 //alert(month);
 jQuery.ajax({
    type:'post',
    url:'/get/monthselect',
    data:{year:year,month:month,payable:payable,fieldofficer:fieldofficer,property_id:property_id},
    success:function(resp){
     //alert(resp);
      jQuery("#appendtenantbalances").html(resp);
    },
    error:function(){
       // alert("error");
    }
});
});
//selectbyyear
jQuery("#yearselect").on('change', function(){
  var month=jQuery("#monthselect").val();
  var year=jQuery(this).val();
  var payable=jQuery("#payableselect").val();
  var fieldofficer=jQuery("#fieldofficerselect").val();
  var property_id=jQuery("#propertytenantbalance").val();
 jQuery.ajax({
    type:'post',
    url:'/get/yearselect',
    data:{year:year,month:month,payable:payable,fieldofficer:fieldofficer,property_id:property_id},
    success:function(resp){
    //alert(resp);
      jQuery("#appendtenantbalances").html(resp);
    },
    error:function(){
       // alert("error");
    }
});
});

});
